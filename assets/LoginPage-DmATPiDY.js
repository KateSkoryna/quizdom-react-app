import{r as g,u as h,a as j,j as r,t as w,p as f}from"./index-CjaVV8zt.js";import{u as y}from"./index.esm-CYR7olsm.js";import{F as T,b as S,o as _,l as C}from"./bcrypt-D4zSVMaC.js";import{C as N,B as b}from"./Col-BSXdKWsl.js";import{C as E}from"./Card-B_Ak8kk9.js";import{F as e}from"./Form-7yRDCgnl.js";import"./divWithClassName-DqnSKfhP.js";const B="_loginSection_wyjig_1",F="_loginCard_wyjig_7",P="_errorText_wyjig_14",q="_formTitle_wyjig_18",I="_formBtn_wyjig_32",s={loginSection:B,loginCard:F,errorText:P,formTitle:q,formBtn:I},L={email:"",password:""},k=()=>{const[m,l]=g.useState(L),c=h(),{login:d}=j(),p=async a=>{var n;try{await d(a.email,a.password),l(a);const t=await w(f.currentUser.uid);t&&S.compareSync(a.password,(n=t.data())==null?void 0:n.password)&&t&&c("/user")}catch{u("root",{message:"Invalid email or password"})}},{register:i,handleSubmit:x,setError:u,formState:{errors:o}}=y({mode:"onTouched",reValidateMode:"onSubmit",defaultValues:m,resolver:_(C)});return r.jsx(N,{className:s.loginSection,children:r.jsxs(E,{className:s.loginCard,children:[r.jsx("h2",{className:s.formTitle,children:"Log In"}),r.jsxs(e,{onSubmit:x(p),children:[r.jsxs(e.Group,{className:"mb-3",controlId:"formBasicEmail",children:[r.jsx(e.Label,{children:"Email"}),r.jsx(e.Control,{type:"email",placeholder:"Enter your email",autoComplete:"email",...i("email",{required:"Email is required"})}),o.email?r.jsx(e.Text,{className:"text-danger",children:o.email.message}):r.jsx(e.Text,{className:s.errorText,children:"Empty space"})]}),r.jsxs(e.Group,{controlId:"formBasicPassword",children:[r.jsx(e.Label,{children:"Password"}),r.jsx(e.Control,{type:"password",placeholder:"Enter your password",autoComplete:"password",...i("password",{required:"Password is required"})}),o.password?r.jsx(e.Text,{className:"text-danger",children:o.password.message}):r.jsx(e.Text,{className:s.errorText,children:"Empty space"})]}),o.root?r.jsx(e.Text,{className:"text-danger",children:o.root.message}):r.jsx(e.Text,{className:s.errorText,children:"Empty space"}),r.jsx(b,{variant:"primary",type:"submit",className:s.formBtn,children:"Submit"}),r.jsx(T,{mainText:"Dont have an account? ",text:"Sign Up",path:"/signup"})]})]})})};export{k as default};
