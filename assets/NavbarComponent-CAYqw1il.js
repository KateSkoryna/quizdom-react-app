import{r as i,j as e,a as Y,u as ba,L as k}from"./index-DFiiInU3.js";import{P as w,a as H,B as ja,C as Ca}from"./Col-COsdicXk.js";import{c as B,N as b}from"./Nav-Dkq-mEQE.js";import{u as x,c as N,d as ya}from"./divWithClassName-DyXLdJrq.js";import{b as Z,u as ka,S as _a}from"./types-DvZc5VUd.js";import{C as wa}from"./Collapse-O8NBzwIi.js";import{e as Ba,T as Ta,f as $a,E as W,h as La,i as Ea,A as Oa,M as Sa,B as Ma,F as Ra,j as Ha,g as Ia,k as $,C as Aa}from"./store-BPGvtru9.js";import{R as Fa}from"./Row-RZPE-I-q.js";const V=i.forwardRef(({bsPrefix:a,className:n,as:o,...s},r)=>{a=x(a,"navbar-brand");const l=o||(s.href?"a":"span");return e.jsx(l,{...s,ref:r,className:N(n,a)})});V.displayName="NavbarBrand";const P=i.forwardRef(({children:a,bsPrefix:n,...o},s)=>{n=x(n,"navbar-collapse");const r=i.useContext(B);return e.jsx(wa,{in:!!(r&&r.expanded),...o,children:e.jsx("div",{ref:s,className:n,children:a})})});P.displayName="NavbarCollapse";const aa=i.forwardRef(({bsPrefix:a,className:n,children:o,label:s="Toggle navigation",as:r="button",onClick:l,...d},t)=>{a=x(a,"navbar-toggler");const{onToggle:c,expanded:f}=i.useContext(B)||{},u=Z(v=>{l&&l(v),c&&c()});return r==="button"&&(d.type="button"),e.jsx(r,{...d,ref:t,onClick:u,"aria-label":s,className:N(n,a,!f&&"collapsed"),children:o||e.jsx("span",{className:`${a}-icon`})})});aa.displayName="NavbarToggle";const A=new WeakMap,X=(a,n)=>{if(!a||!n)return;const o=A.get(n)||new Map;A.set(n,o);let s=o.get(a);return s||(s=n.matchMedia(a),s.refCount=0,o.set(s.media,s)),s};function Da(a,n=typeof window>"u"?void 0:window){const o=X(a,n),[s,r]=i.useState(()=>o?o.matches:!1);return Ba(()=>{let l=X(a,n);if(!l)return r(!1);let d=A.get(n);const t=()=>{r(l.matches)};return l.refCount++,l.addListener(t),t(),()=>{l.removeListener(t),l.refCount--,l.refCount<=0&&(d==null||d.delete(l.media)),l=void 0}},[a]),s}function Ka(a){const n=Object.keys(a);function o(t,c){return t===c?c:t?`${t} and ${c}`:c}function s(t){return n[Math.min(n.indexOf(t)+1,n.length-1)]}function r(t){const c=s(t);let f=a[c];return typeof f=="number"?f=`${f-.2}px`:f=`calc(${f} - 0.2px)`,`(max-width: ${f})`}function l(t){let c=a[t];return typeof c=="number"&&(c=`${c}px`),`(min-width: ${c})`}function d(t,c,f){let u;typeof t=="object"?(u=t,f=c,c=!0):(c=c||!0,u={[t]:c});let v=i.useMemo(()=>Object.entries(u).reduce((m,[j,p])=>((p==="up"||p===!0)&&(m=o(m,l(j))),(p==="down"||p===!0)&&(m=o(m,r(j))),m),""),[JSON.stringify(u)]);return Da(v,f)}return d}const za=Ka({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),ea=i.forwardRef(({className:a,bsPrefix:n,as:o="div",...s},r)=>(n=x(n,"offcanvas-body"),e.jsx(o,{ref:r,className:N(a,n),...s})));ea.displayName="OffcanvasBody";const Qa={[W]:"show",[Ea]:"show"},na=i.forwardRef(({bsPrefix:a,className:n,children:o,in:s=!1,mountOnEnter:r=!1,unmountOnExit:l=!1,appear:d=!1,...t},c)=>(a=x(a,"offcanvas"),e.jsx(Ta,{ref:c,addEndListener:$a,in:s,mountOnEnter:r,unmountOnExit:l,appear:d,...t,childRef:o.ref,children:(f,u)=>i.cloneElement(o,{...u,className:N(n,o.props.className,(f===W||f===La)&&`${a}-toggling`,Qa[f])})})));na.displayName="OffcanvasToggling";const sa=i.forwardRef(({bsPrefix:a,className:n,closeLabel:o="Close",closeButton:s=!1,...r},l)=>(a=x(a,"offcanvas-header"),e.jsx(Oa,{ref:l,...r,className:N(n,a),closeLabel:o,closeButton:s})));sa.displayName="OffcanvasHeader";const Ga=ya("h5"),oa=i.forwardRef(({className:a,bsPrefix:n,as:o=Ga,...s},r)=>(n=x(n,"offcanvas-title"),e.jsx(o,{ref:r,className:N(a,n),...s})));oa.displayName="OffcanvasTitle";function qa(a){return e.jsx(na,{...a})}function Ua(a){return e.jsx(Ra,{...a})}const ta=i.forwardRef(({bsPrefix:a,className:n,children:o,"aria-labelledby":s,placement:r="start",responsive:l,show:d=!1,backdrop:t=!0,keyboard:c=!0,scroll:f=!1,onEscapeKeyDown:u,onShow:v,onHide:m,container:j,autoFocus:p=!0,enforceFocus:C=!0,restoreFocus:L=!0,restoreFocusOptions:_,onEntered:E,onExit:O,onExiting:ia,onEnter:D,onEntering:da,onExited:K,backdropClassName:z,manager:Q,renderStaticNode:fa=!1,...ua},va)=>{const S=i.useRef();a=x(a,"offcanvas");const{onToggle:G}=i.useContext(B)||{},[q,ma]=i.useState(!1),U=za(l||"xs","up");i.useEffect(()=>{ma(l?d&&!U:d)},[d,l,U]);const M=Z(()=>{G==null||G(),m==null||m()}),ga=i.useMemo(()=>({onHide:M}),[M]);function Na(){return Q||(f?(S.current||(S.current=new Ha({handleContainerOverflow:!1})),S.current):Ia())}const xa=(h,...R)=>{h&&(h.style.visibility="visible"),D==null||D(h,...R)},pa=(h,...R)=>{h&&(h.style.visibility=""),K==null||K(...R)},ha=i.useCallback(h=>e.jsx("div",{...h,className:N(`${a}-backdrop`,z)}),[z,a]),J=h=>e.jsx("div",{...h,...ua,className:N(n,l?`${a}-${l}`:a,`${a}-${r}`),"aria-labelledby":s,children:o});return e.jsxs(e.Fragment,{children:[!q&&(l||fa)&&J({}),e.jsx(Sa.Provider,{value:ga,children:e.jsx(Ma,{show:q,ref:va,backdrop:t,container:j,keyboard:c,autoFocus:p,enforceFocus:C&&!f,restoreFocus:L,restoreFocusOptions:_,onEscapeKeyDown:u,onShow:v,onHide:M,onEnter:xa,onEntering:da,onEntered:E,onExit:O,onExiting:ia,onExited:pa,manager:Na(),transition:qa,backdropTransition:Ua,renderBackdrop:ha,renderDialog:J})})]})});ta.displayName="Offcanvas";const T=Object.assign(ta,{Body:ea,Header:sa,Title:oa}),ra=i.forwardRef((a,n)=>{const o=i.useContext(B);return e.jsx(T,{ref:n,show:!!(o!=null&&o.expanded),...a,renderStaticNode:!0})});ra.displayName="NavbarOffcanvas";const la=i.forwardRef(({className:a,bsPrefix:n,as:o="span",...s},r)=>(n=x(n,"navbar-text"),e.jsx(o,{ref:r,className:N(a,n),...s})));la.displayName="NavbarText";const ca=i.forwardRef((a,n)=>{const{bsPrefix:o,expand:s=!0,variant:r="light",bg:l,fixed:d,sticky:t,className:c,as:f="nav",expanded:u,onToggle:v,onSelect:m,collapseOnSelect:j=!1,...p}=ka(a,{expanded:"onToggle"}),C=x(o,"navbar"),L=i.useCallback((...O)=>{m==null||m(...O),j&&u&&(v==null||v(!1))},[m,j,u,v]);p.role===void 0&&f!=="nav"&&(p.role="navigation");let _=`${C}-expand`;typeof s=="string"&&(_=`${_}-${s}`);const E=i.useMemo(()=>({onToggle:()=>v==null?void 0:v(!u),bsPrefix:C,expanded:!!u,expand:s}),[C,u,s,v]);return e.jsx(B.Provider,{value:E,children:e.jsx(_a.Provider,{value:L,children:e.jsx(f,{ref:n,...p,className:N(c,C,s&&_,r&&`${C}-${r}`,l&&`bg-${l}`,t&&`sticky-${t}`,d&&`fixed-${d}`)})})})});ca.displayName="Navbar";const I=Object.assign(ca,{Brand:V,Collapse:P,Offcanvas:ra,Text:la,Toggle:aa});w.string,w.bool,w.bool,w.bool,w.bool;const F=i.forwardRef(({bsPrefix:a,className:n,fluid:o=!1,rounded:s=!1,roundedCircle:r=!1,thumbnail:l=!1,...d},t)=>(a=x(a,"img"),e.jsx("img",{ref:t,...d,className:N(n,o&&`${a}-fluid`,s&&"rounded",r&&"rounded-circle",l&&`${a}-thumbnail`)})));F.displayName="Image";const Ja="/quizdom-react-app/assets/logo-DPgUEYFG.svg",Xa="_navbar_1mo9v_1",Ya="_navLink_1mo9v_5",Za="_offcanvasNavbar_1mo9v_14",Wa="_navbarToggle_1mo9v_19",Va="_closeBtn_1mo9v_26",Pa="_offcanvasHeader_1mo9v_30",ae="_offcanvasNav_1mo9v_14",g={navbar:Xa,navLink:Ya,offcanvasNavbar:Za,navbarToggle:Wa,closeBtn:Va,offcanvasHeader:Pa,offcanvasNav:ae},ee="_logoutNavbar_nq0gn_1",ne="_logoutNavbarContainer_nq0gn_26",se="_userPageLink_nq0gn_37",oe="_userIcon_nq0gn_48",te="_logoutBtn_nq0gn_53",y={logoutNavbar:ee,logoutNavbarContainer:ne,userPageLink:se,userIcon:oe,logoutBtn:te},re=({avatar:a,name:n})=>{const o=$(t=>t.active),s=$(t=>t.setActive),{logout:r}=Y(),l=ba(),d=async()=>{try{await r(),l("/")}catch(t){console.log(t)}};return i.useEffect(()=>{s("user")},[s]),e.jsx(b,{activeKey:o,onSelect:t=>t!==null&&s(t),children:e.jsxs(Fa,{className:y.logoutNavbar,children:[e.jsx(H,{xs:12,md:4,className:y.logoutNavbarContainer,children:e.jsx(b.Link,{as:k,to:"/user",className:y.userPageLink,eventKey:"user",children:`Hi, ${n}`})}),e.jsx(H,{xs:12,md:3,className:y.logoutNavbarContainer,children:e.jsx(F,{src:a,className:y.userIcon,rounded:!0})}),e.jsx(H,{xs:12,md:3,className:y.logoutNavbarContainer,children:e.jsx(ja,{onClick:d,className:y.logoutBtn,children:"Logout"})})]})})},ge=()=>{const[a,n]=i.useState(!1),o=$(c=>c.active),s=$(c=>c.setActive),{currentUser:r}=Y(),l=r==null?void 0:r.name.split(" ")[0],d=()=>n(!1),t=()=>n(!0);return e.jsx(e.Fragment,{children:e.jsx(I,{className:g.navbar,expand:"lg","data-bs-theme":"dark",fixed:"top",children:e.jsxs(Ca,{children:[e.jsx(I.Brand,{as:k,to:"/",children:e.jsx(F,{src:Ja})}),e.jsx(I.Toggle,{className:g.navbarToggle,"aria-controls":"basic-navbar-nav",onClick:t}),e.jsxs(T,{show:a,onHide:d,responsive:"lg",placement:"end",className:g.offcanvasNavbar,children:[e.jsx(T.Header,{className:g.offcanvasHeader,children:e.jsx(Aa,{className:g.closeBtn,onClick:d})}),e.jsxs(T.Body,{className:"d-flex flex-column flex-lg-row justify-content-lg-between",children:[e.jsxs(b,{className:g.offcanvasNav,activeKey:o,onSelect:c=>c!==null&&s(c),children:[e.jsx(b.Link,{as:k,to:"/quizes",className:g.navLink,eventKey:"quizes",children:"Quizes"}),e.jsx(b.Link,{as:k,to:"/news",className:g.navLink,eventKey:"news",children:"News"}),e.jsx(b.Link,{as:k,to:"/blogs",className:g.navLink,eventKey:"blogs",children:"Blogs"})]}),r?e.jsx(re,{avatar:r.avatar??"",name:l??""}):e.jsxs(b,{className:g.offcanvasNav,activeKey:o,onSelect:c=>c!==null&&s(c),children:[e.jsx(b.Link,{as:k,to:"/signup",className:g.navLink,eventKey:"signup",children:"Sign Up"}),e.jsx(b.Link,{as:k,to:"/login",className:g.navLink,eventKey:"login",children:"Log In"})]})]})]})]})})})};export{I as N,ge as a};
