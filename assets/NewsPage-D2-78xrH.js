import{j as e,x as y,r as d,v as B,y as v,z as S}from"./index-CjaVV8zt.js";import{B as _,C as f,a as I}from"./Col-BSXdKWsl.js";import{b as w}from"./index-vNn1oJO8.js";import{C as i}from"./Card-B_Ak8kk9.js";import{D as T,N as L}from"./const-BoiIfU_n.js";import{R as E}from"./Row-CbhRooFG.js";import{N as u}from"./Nav-CigYwIpd.js";import{F as x,a as F}from"./Form-7yRDCgnl.js";import{L as D}from"./Loader-CB-meNVY.js";import"./divWithClassName-DqnSKfhP.js";import"./types-IK0vXEJw.js";const P="_newsContainer_1ghpc_1",R={newsContainer:P},k="_cardBody_1pu7h_1",A="_cardText_1pu7h_5",M="_cardBtn_1pu7h_9",q="_cardImg_1pu7h_27",m={cardBody:k,cardText:A,cardBtn:M,cardImg:q},p=(s,a)=>s.length>a?s.slice(0,a)+"...":s,$=({image:s,title:a,description:r,url:t})=>e.jsxs(i,{className:"h-100",children:[e.jsx(w.LazyLoadImage,{src:s,className:m.cardImg,alt:a}),e.jsxs(i.Body,{className:m.cardBody,children:[e.jsx(i.Title,{className:"mb-4",children:p(a,64)}),e.jsx(i.Text,{className:m.cardText,children:r})]}),e.jsx(i.Footer,{children:e.jsx(_,{href:t,target:"_blank",className:m.cardBtn,children:"Read More"})})]}),z=({news:s})=>e.jsx(f,{className:R.newsContainer,children:e.jsx(E,{className:"g-3",children:s.map(({id:a,title:r,image:t,description:c,url:l})=>e.jsx(I,{xs:12,sm:6,md:4,lg:3,children:e.jsx($,{image:t??T,title:r,description:c?p(c,90):"No description available",url:l})},a))})}),G="_formContainer_lrbrf_1",O="_searchNavbar_lrbrf_7",Q="_categoryBtn_lrbrf_23",U="_serchContainer_lrbrf_37",W="_searchInput_lrbrf_43",Y="_searchBtn_lrbrf_47",H="_error_lrbrf_56",o={formContainer:G,searchNavbar:O,categoryBtn:Q,serchContainer:U,searchInput:W,searchBtn:Y,error:H},J={query:"",category:""},K=({categories:s})=>{const[a,r]=y(J),[t,c]=d.useState(a.get("query")??""),[l,g]=d.useState(a.get("category")??""),[j,h]=d.useState(!1);function N(n){if(n.preventDefault(),!t){c(""),h(!0);return}l?(h(!1),r({query:t,category:l})):(h(!1),r({query:t}))}function C(n){g(n),c(""),r({category:n})}const b=n=>{c(n.target.value)};return e.jsxs(f,{className:o.formContainer,children:[e.jsxs(x,{onSubmit:N,className:"mb-4",children:[e.jsxs("div",{className:o.serchContainer,children:[e.jsx(F,{type:"search",placeholder:"Search","aria-label":"Search",value:t||"",onChange:b,className:o.searchInput}),e.jsx(_,{className:o.searchBtn,type:"submit",children:"Search"})]}),j&&e.jsx(x.Text,{className:o.error,children:"Please enter a search term"})]}),e.jsx(u,{className:o.searchNavbar,children:s.map(n=>e.jsx(u.Item,{children:e.jsx(u.Link,{as:_,onClick:()=>C(n),className:o.categoryBtn,children:n})},n))})]})};function V(){const s=["a","b","c","d","e","f","0","1","2","3","4","5","6","7","8","9"];let a=[];for(let r=0;r<36;r++)r===8||r===13||r===18||r===23?a[r]="-":a[r]=s[Math.ceil(Math.random()*s.length-1)];return a.join("")}var X=V;const Z=B(X),he=()=>{const s=v(),r=S().map(c=>({...c,id:Z()})),t=Object.values(L);return e.jsxs(e.Fragment,{children:[e.jsx(K,{categories:t}),s.state==="loading"?e.jsx(D,{}):e.jsx(z,{news:r})]})};export{he as default};
