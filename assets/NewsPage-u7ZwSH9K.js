import{j as r,D as y,x as B,r as h,v,y as S,z as I,N as w}from"./index-DiYMfU4s.js";import{B as _,C as f,a as T}from"./Col-CKPD8pOG.js";import{t as p}from"./truncateString-DL5WhCmR.js";import{b as L}from"./index-D8WSLYwt.js";import{C as i}from"./Card-CGiwvraB.js";import{R as E}from"./Row-DcCt8_Lj.js";import{N as u}from"./Nav-Bjg4OhOt.js";import{F as x,a as F}from"./Form-3itUJFAm.js";import{L as D}from"./Loader-DPix26Zm.js";import"./divWithClassName-BpW8htND.js";import"./Nav-BPLM084T.js";const P="_newsContainer_1ghpc_1",R={newsContainer:P},k="_cardBody_1pu7h_1",A="_cardText_1pu7h_5",M="_cardBtn_1pu7h_9",q="_cardImg_1pu7h_27",m={cardBody:k,cardText:A,cardBtn:M,cardImg:q},$=({image:s,title:a,description:e,url:t})=>r.jsxs(i,{className:"h-100",children:[r.jsx(L.LazyLoadImage,{src:s,className:m.cardImg,alt:a}),r.jsxs(i.Body,{className:m.cardBody,children:[r.jsx(i.Title,{className:"mb-4",children:p(a,64)}),r.jsx(i.Text,{className:m.cardText,children:e})]}),r.jsx(i.Footer,{children:r.jsx(_,{href:t,target:"_blank",className:m.cardBtn,children:"Read More"})})]}),z=({news:s})=>r.jsx(f,{className:R.newsContainer,children:r.jsx(E,{className:"g-3",children:s.map(({id:a,title:e,image:t,description:c,url:l})=>r.jsx(T,{xs:12,sm:6,md:4,lg:3,children:r.jsx($,{image:t??y,title:e,description:c?p(c,90):"No description available",url:l})},a))})}),G="_formContainer_lrbrf_1",O="_searchNavbar_lrbrf_7",Q="_categoryBtn_lrbrf_23",U="_serchContainer_lrbrf_37",W="_searchInput_lrbrf_43",Y="_searchBtn_lrbrf_47",H="_error_lrbrf_56",o={formContainer:G,searchNavbar:O,categoryBtn:Q,serchContainer:U,searchInput:W,searchBtn:Y,error:H},J={query:"",category:""},K=({categories:s})=>{const[a,e]=B(J),[t,c]=h.useState(a.get("query")??""),[l,g]=h.useState(a.get("category")??""),[j,d]=h.useState(!1);function N(n){if(n.preventDefault(),!t){c(""),d(!0);return}l?(d(!1),e({query:t,category:l})):(d(!1),e({query:t}))}function C(n){g(n),c(""),e({category:n})}const b=n=>{c(n.target.value)};return r.jsxs(f,{className:o.formContainer,children:[r.jsxs(x,{onSubmit:N,className:"mb-4",children:[r.jsxs("div",{className:o.serchContainer,children:[r.jsx(F,{type:"search",placeholder:"Search","aria-label":"Search",value:t||"",onChange:b,className:o.searchInput}),r.jsx(_,{className:o.searchBtn,type:"submit",children:"Search"})]}),j&&r.jsx(x.Text,{className:o.error,children:"Please enter a search term"})]}),r.jsx(u,{className:o.searchNavbar,children:s.map(n=>r.jsx(u.Item,{children:r.jsx(u.Link,{as:_,onClick:()=>C(n),className:o.categoryBtn,children:n})},n))})]})};function V(){const s=["a","b","c","d","e","f","0","1","2","3","4","5","6","7","8","9"];let a=[];for(let e=0;e<36;e++)e===8||e===13||e===18||e===23?a[e]="-":a[e]=s[Math.ceil(Math.random()*s.length-1)];return a.join("")}var X=V;const Z=v(X),dr=()=>{const s=S(),e=I().map(c=>({...c,id:Z()})),t=Object.values(w);return r.jsxs(r.Fragment,{children:[r.jsx(K,{categories:t}),s.state==="loading"?r.jsx(D,{}):r.jsx(z,{news:e})]})};export{dr as default};
