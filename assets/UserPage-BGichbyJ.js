import{r as c,j as t,R as S,a as T,e as me,g as xe,b as he,L as M}from"./index-BPU7orE-.js";import{a as fe}from"./index-DPfBfDnk.js";import{C as y}from"./Card-B2xE3kpQ.js";import{P as b,B as k,a as pe,C as ge}from"./Col-CWrLX2gs.js";import{u as ve,T as P,m as H,S as L}from"./types-CjFR5xU4.js";import{N as W,F as X}from"./store-Bca_yeY_.js";import{u as j,c as C}from"./divWithClassName-Cv2Mr4HC.js";import{G as ye}from"./index-DCt8_E-R.js";import{F as je}from"./Form-BbMiW6v-.js";import{A as Ce}from"./AddQuizComponent--KsjLkxU.js";import{C as be}from"./Collapse-jZaunocB.js";import{L as Ee}from"./Loader-gT5cWjw_.js";import{N as E}from"./Nav-DJ4EgKC0.js";import"./index.esm-uAVX5Chk.js";import"./const-D5FJm90l.js";import"./addClassnameToText-dhTWVbv1.js";function D(e,n){return Array.isArray(e)?e.includes(n):e===n}const w=c.createContext({});w.displayName="AccordionContext";const R=c.forwardRef(({as:e="div",bsPrefix:n,className:o,children:s,eventKey:r,...i},a)=>{const{activeEventKey:l}=c.useContext(w);return n=j(n,"accordion-collapse"),t.jsx(be,{ref:a,in:D(l,r),...i,className:C(o,n),children:t.jsx(e,{children:c.Children.only(s)})})});R.displayName="AccordionCollapse";const z=c.createContext({eventKey:""});z.displayName="AccordionItemContext";const U=c.forwardRef(({as:e="div",bsPrefix:n,className:o,onEnter:s,onEntering:r,onEntered:i,onExit:a,onExiting:l,onExited:d,...u},m)=>{n=j(n,"accordion-body");const{eventKey:x}=c.useContext(z);return t.jsx(R,{eventKey:x,onEnter:s,onEntering:r,onEntered:i,onExit:a,onExiting:l,onExited:d,children:t.jsx(e,{ref:m,...u,className:C(o,n)})})});U.displayName="AccordionBody";function Se(e,n){const{activeEventKey:o,onSelect:s,alwaysOpen:r}=c.useContext(w);return i=>{let a=e===o?null:e;r&&(Array.isArray(o)?o.includes(e)?a=o.filter(l=>l!==e):a=[...o,e]:a=[e]),s==null||s(a,i),n==null||n(i)}}const Z=c.forwardRef(({as:e="button",bsPrefix:n,className:o,onClick:s,...r},i)=>{n=j(n,"accordion-button");const{eventKey:a}=c.useContext(z),l=Se(a,s),{activeEventKey:d}=c.useContext(w);return e==="button"&&(r.type="button"),t.jsx(e,{ref:i,onClick:l,...r,"aria-expanded":Array.isArray(d)?d.includes(a):a===d,className:C(o,n,!D(d,a)&&"collapsed")})});Z.displayName="AccordionButton";const Y=c.forwardRef(({as:e="h2",bsPrefix:n,className:o,children:s,onClick:r,...i},a)=>(n=j(n,"accordion-header"),t.jsx(e,{ref:a,...i,className:C(o,n),children:t.jsx(Z,{onClick:r,children:s})})));Y.displayName="AccordionHeader";const ee=c.forwardRef(({as:e="div",bsPrefix:n,className:o,eventKey:s,...r},i)=>{n=j(n,"accordion-item");const a=c.useMemo(()=>({eventKey:s}),[s]);return t.jsx(z.Provider,{value:a,children:t.jsx(e,{ref:i,...r,className:C(o,n)})})});ee.displayName="AccordionItem";const te=c.forwardRef((e,n)=>{const{as:o="div",activeKey:s,bsPrefix:r,className:i,onSelect:a,flush:l,alwaysOpen:d,...u}=ve(e,{activeKey:"onSelect"}),m=j(r,"accordion"),x=c.useMemo(()=>({activeEventKey:s,onSelect:a,alwaysOpen:d}),[s,a,d]);return t.jsx(w.Provider,{value:x,children:t.jsx(o,{ref:n,...u,className:C(i,m,l&&`${m}-flush`)})})});te.displayName="Accordion";const A=Object.assign(te,{Button:Z,Collapse:R,Item:ee,Header:Y,Body:U});function $e(e,n,o){const s=c.useRef(e!==void 0),[r,i]=c.useState(n),a=e!==void 0,l=s.current;return s.current=a,!a&&l&&r!==n&&i(n),[a?e:r,c.useCallback((...d)=>{const[u,...m]=d;let x=o==null?void 0:o(u,...m);return i(u),x},[o])]}const O={prefix:String(Math.round(Math.random()*1e10)),current:0},ne=S.createContext(O),Ne=S.createContext(!1);let Ie=!!(typeof window<"u"&&window.document&&window.document.createElement),Q=new WeakMap;function Te(e=!1){let n=c.useContext(ne),o=c.useRef(null);if(o.current===null&&!e){var s,r;let i=(r=S.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||r===void 0||(s=r.ReactCurrentOwner)===null||s===void 0?void 0:s.current;if(i){let a=Q.get(i);a==null?Q.set(i,{id:n.current,state:i.memoizedState}):i.memoizedState!==a.state&&(n.current=a.id,Q.delete(i))}o.current=++n.current}return o.current}function we(e){let n=c.useContext(ne);n===O&&!Ie&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let o=Te(!!e),s=`react-aria${n.prefix}`;return e||`${s}-${o}`}function Ae(e){let n=S.useId(),[o]=c.useState(Be()),s=o?"react-aria":`react-aria${O.prefix}`;return e||`${s}-${n}`}const Oe=typeof S.useId=="function"?Ae:we;function Pe(){return!1}function ze(){return!0}function Ke(e){return()=>{}}function Be(){return typeof S.useSyncExternalStore=="function"?S.useSyncExternalStore(Ke,Pe,ze):c.useContext(Ne)}const Me=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],Qe=["activeKey","getControlledId","getControllerId"],_e=["as"];function F(e,n){if(e==null)return{};var o={},s=Object.keys(e),r,i;for(i=0;i<s.length;i++)r=s[i],!(n.indexOf(r)>=0)&&(o[r]=e[r]);return o}function se(e){let{active:n,eventKey:o,mountOnEnter:s,transition:r,unmountOnExit:i,role:a="tabpanel",onEnter:l,onEntering:d,onEntered:u,onExit:m,onExiting:x,onExited:h}=e,f=F(e,Me);const p=c.useContext(P);if(!p)return[Object.assign({},f,{role:a}),{eventKey:o,isActive:n,mountOnEnter:s,transition:r,unmountOnExit:i,onEnter:l,onEntering:d,onEntered:u,onExit:m,onExiting:x,onExited:h}];const{activeKey:g,getControlledId:$,getControllerId:K}=p,B=F(p,Qe),q=H(o);return[Object.assign({},f,{role:a,id:$(o),"aria-labelledby":K(o)}),{eventKey:o,isActive:n==null&&q!=null?H(g)===q:n,transition:r||B.transition,mountOnEnter:s??B.mountOnEnter,unmountOnExit:i??B.unmountOnExit,onEnter:l,onEntering:d,onEntered:u,onExit:m,onExiting:x,onExited:h}]}const oe=c.forwardRef((e,n)=>{let{as:o="div"}=e,s=F(e,_e);const[r,{isActive:i,onEnter:a,onEntering:l,onEntered:d,onExit:u,onExiting:m,onExited:x,mountOnEnter:h,unmountOnExit:f,transition:p=W}]=se(s);return t.jsx(P.Provider,{value:null,children:t.jsx(L.Provider,{value:null,children:t.jsx(p,{in:i,onEnter:a,onEntering:l,onEntered:d,onExit:u,onExiting:m,onExited:x,mountOnEnter:h,unmountOnExit:f,children:t.jsx(o,Object.assign({},r,{ref:n,hidden:!i,"aria-hidden":!i}))})})})});oe.displayName="TabPanel";const ae=e=>{const{id:n,generateChildId:o,onSelect:s,activeKey:r,defaultActiveKey:i,transition:a,mountOnEnter:l,unmountOnExit:d,children:u}=e,[m,x]=$e(r,i,s),h=Oe(n),f=c.useMemo(()=>o||((g,$)=>h?`${h}-${$}-${g}`:null),[h,o]),p=c.useMemo(()=>({onSelect:x,activeKey:m,transition:a,mountOnEnter:l||!1,unmountOnExit:d||!1,getControlledId:g=>f(g,"tabpane"),getControllerId:g=>f(g,"tab")}),[x,m,a,l,d,f]);return t.jsx(P.Provider,{value:p,children:t.jsx(L.Provider,{value:x||null,children:u})})};ae.Panel=oe;function re(e){return typeof e=="boolean"?e?X:W:e}const ie=({transition:e,...n})=>t.jsx(ae,{...n,transition:re(e)});ie.displayName="TabContainer";const ce=c.forwardRef(({className:e,bsPrefix:n,as:o="div",...s},r)=>(n=j(n,"tab-content"),t.jsx(o,{ref:r,className:C(e,n),...s})));ce.displayName="TabContent";const le=c.forwardRef(({bsPrefix:e,transition:n,...o},s)=>{const[{className:r,as:i="div",...a},{isActive:l,onEnter:d,onEntering:u,onEntered:m,onExit:x,onExiting:h,onExited:f,mountOnEnter:p,unmountOnExit:g,transition:$=X}]=se({...o,transition:re(n)}),K=j(e,"tab-pane");return t.jsx(P.Provider,{value:null,children:t.jsx(L.Provider,{value:null,children:t.jsx($,{in:l,onEnter:d,onEntering:u,onEntered:m,onExit:x,onExiting:h,onExited:f,mountOnEnter:p,unmountOnExit:g,children:t.jsx(i,{...a,ref:s,className:C(r,K,l&&"active")})})})})});le.displayName="TabPane";const ke={eventKey:b.oneOfType([b.string,b.number]),title:b.node.isRequired,disabled:b.bool,tabClassName:b.string,tabAttrs:b.object},de=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};de.propTypes=ke;const N=Object.assign(de,{Container:ie,Content:ce,Pane:le}),Fe="_userSection_yo8ue_1",Le="_userSectionCard_yo8ue_8",Re="_userCardInfo_yo8ue_20",G={userSection:Fe,userSectionCard:Le,userCardInfo:Re},Ze="_card_yrld2_1",qe="_cardTitle_yrld2_17",He="_cardText_yrld2_22",Ge="_cardImg_yrld2_27",Ve="_imgChangeContainer_yrld2_34",Je="_imgChangeBtn_yrld2_39",We="_imgChgangeIcon_yrld2_49",v={card:Ze,cardTitle:qe,cardText:He,cardImg:Ge,imgChangeContainer:Ve,imgChangeBtn:Je,imgChgangeIcon:We},Xe=()=>{const{currentUser:e}=T(),n=e==null?void 0:e.dateOfBirth.toLocaleDateString().split("/").join(".");return t.jsx(y,{className:v.card,children:t.jsxs(y.Body,{className:v.imgChangeContainer,children:[t.jsx(k,{className:v.imgChangeBtn,children:t.jsx(fe,{className:v.imgChgangeIcon})}),t.jsx(y.Img,{src:e==null?void 0:e.avatar,className:v.cardImg}),t.jsx(y.Title,{className:v.cardTitle,children:e==null?void 0:e.name}),t.jsx(y.Text,{className:v.cardText,children:e==null?void 0:e.email}),t.jsx(y.Text,{className:v.cardText,children:n}),t.jsx(y.Text,{className:v.cardText,children:e==null?void 0:e.gender}),t.jsx(y.Footer,{children:t.jsx(k,{className:"w-100",children:"Edit"})})]})})},De="_starZero_1wgyi_1",Ue="_starRating_1wgyi_7",V={starZero:De,starRating:Ue};function Ye(){const{currentUser:e}=T();return t.jsxs("div",{children:[t.jsxs("h5",{className:"mb-1",children:["Rating: ",(e==null?void 0:e.avarageScore)||8]}),[1,2,3,4,5,6,7,8,9,10].map(n=>t.jsxs("span",{className:e!=null&&e.avarageScore||8>=n?V.starRating:V.starZero,children:[" ","â˜…"," "]},n))]})}const et="_aboutText_13ccc_1",tt="_editIcon_13ccc_5",J={aboutText:et,editIcon:tt};function nt(e){return ye({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Edit"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M3.548,20.938h16.9a.5.5,0,0,0,0-1H3.548a.5.5,0,0,0,0,1Z"},child:[]},{tag:"path",attr:{d:"M9.71,17.18a2.587,2.587,0,0,0,1.12-.65l9.54-9.54a1.75,1.75,0,0,0,0-2.47l-.94-.93a1.788,1.788,0,0,0-2.47,0L7.42,13.12a2.473,2.473,0,0,0-.64,1.12L6.04,17a.737.737,0,0,0,.19.72.767.767,0,0,0,.53.22Zm.41-1.36a1.468,1.468,0,0,1-.67.39l-.97.26-1-1,.26-.97a1.521,1.521,0,0,1,.39-.67l.38-.37,1.99,1.99Zm1.09-1.08L9.22,12.75l6.73-6.73,1.99,1.99Zm8.45-8.45L18.65,7.3,16.66,5.31l1.01-1.02a.748.748,0,0,1,1.06,0l.93.94A.754.754,0,0,1,19.66,6.29Z"},child:[]}]}]}]})(e)}const st=()=>{const[e,n]=c.useState(!1),{setCurrentUser:o,currentUser:s}=T(),[r,i]=c.useState((s==null?void 0:s.userInfo)||"I'm a new user and I don't have a bio yet"),a=()=>{n(!e)},l=u=>{i(u)},d=async()=>{s&&(await me(s==null?void 0:s.id,r),o(u=>({...u??{},userInfo:r}))),n(!e)};return t.jsxs("div",{className:"mt-3",children:[t.jsxs("h4",{className:"mb-3",children:["About me ",t.jsx(nt,{className:J.editIcon,onClick:a})]}),e?t.jsxs("div",{children:[t.jsx(je.Control,{as:"textarea",onChange:u=>l(u.target.value)}),t.jsx(k,{className:"mt-3",onClick:d,children:"Save"})]}):t.jsx("p",{className:J.aboutText,children:s==null?void 0:s.userInfo})]})},ot=()=>t.jsxs("div",{className:"pt-3",children:[t.jsx("h5",{className:"mb-4  text-center",children:"My statistics"}),t.jsx(Ye,{}),t.jsx(st,{})]}),at="_itemText_uu0p2_1",rt="_itemSmalltext_uu0p2_5",I={itemText:at,itemSmalltext:rt},it=({quiz:e,eventKey:n})=>{const{title:o,description:s,questions:r,publishedAt:i,category:a,complexity:l}=e;return t.jsxs(A.Item,{eventKey:n,children:[t.jsx(A.Header,{children:o}),t.jsxs(A.Body,{className:"text-start",children:[t.jsxs("small",{className:I.itemSmalltext,children:["Published at: ",i.toLocaleDateString()]}),t.jsxs("p",{className:I.itemText,children:["Description: ",s]}),t.jsxs("p",{className:I.itemText,children:["Category: ",a]}),t.jsxs("p",{className:I.itemText,children:["Complexity: ",l]}),t.jsxs("p",{className:I.itemText,children:["Amount of question: ",r.length]})]})]})},ue=({quizes:e,isLoading:n})=>t.jsx(A,{defaultActiveKey:"0",flush:!0,children:n?t.jsx(Ee,{}):e?e.map((o,s)=>t.jsx(it,{quiz:o,eventKey:s.toString()},o.id)):t.jsx("p",{children:"No quizes yet"})}),ct=()=>{const[e,n]=c.useState([]),[o,s]=c.useState(!0),{currentUser:r}=T();return console.log("Here is User Quiz Segment"),c.useEffect(()=>{(async()=>{try{if(s(!0),r){const a=await xe(r.id);console.log(a),a&&(n(a),s(!1))}}catch(a){if(a instanceof Error)throw new Error(a.message)}})()},[r]),t.jsx(t.Fragment,{children:t.jsxs("div",{className:"pt-3 text-center",children:[t.jsx("h6",{className:"mb-3",children:"User Quiz List"}),t.jsx(ue,{quizes:e,isLoading:o})]})})},lt="_container_p50ix_1",dt={container:lt},ut=()=>t.jsxs("div",{className:dt.container,children:[t.jsx("h5",{className:"mb-3 text-center",children:"My Quizes"}),t.jsx(Ce,{}),t.jsx(ct,{})]}),mt=()=>{const[e,n]=c.useState([]),[o,s]=c.useState(!0),{currentUser:r}=T();return console.log("Im Favorites"),c.useEffect(()=>{(async()=>{try{if(s(!0),r){const a=await he(r==null?void 0:r.favorites);console.log(a),a&&n(a)}s(!1)}catch(a){if(a instanceof Error)throw new Error(a.message)}})()},[r]),t.jsxs("div",{className:"pt-3 text-center",children:[t.jsx("h5",{className:"mb-3",children:"User Favorites"}),t.jsx(ue,{quizes:e,isLoading:o})]})},xt="_userCardInfo_1icpt_1",ht="_show_1icpt_5",_={userCardInfo:xt,show:ht},ft=()=>t.jsx(N.Container,{id:"user-card",defaultActiveKey:"statistics",children:t.jsxs(pe,{children:[t.jsxs(E,{variant:"tabs",className:"p-0",fill:!0,children:[t.jsx(E.Item,{children:t.jsx(E.Link,{className:_.show,as:M,to:"#statistics",eventKey:"statistics",children:"Statistics"})}),t.jsx(E.Item,{children:t.jsx(E.Link,{className:_.show,as:M,to:"#my-quizes",eventKey:"my-quizes",children:"My Quizes"})}),t.jsx(E.Item,{children:t.jsx(E.Link,{className:_.show,as:M,to:"#favorites",eventKey:"favorites",children:"Favorites"})})]}),t.jsxs(N.Content,{children:[t.jsx(N.Pane,{eventKey:"statistics",title:"Statistics",children:t.jsx(ot,{})}),t.jsx(N.Pane,{eventKey:"my-quizes",title:"My Quizes",children:t.jsx(ut,{})}),t.jsx(N.Pane,{eventKey:"favorites",title:"Favorites",children:t.jsx(mt,{})})]})]})}),Pt=()=>t.jsx(ge,{className:G.userSection,children:t.jsxs(y,{className:G.userSectionCard,children:[t.jsx(Xe,{}),t.jsx(ft,{})]})});export{Pt as default};
