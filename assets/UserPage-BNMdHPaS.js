import{r as c,j as t,R as S,a as T,e as me,g as xe,b as he,L as Q}from"./index-DFiiInU3.js";import{a as fe}from"./index-BVYcePSx.js";import{C as y}from"./Card-tieZKk7N.js";import{P as b,B as k,a as pe,C as ge}from"./Col-COsdicXk.js";import{u as ve,T as O,m as H,S as L}from"./types-DvZc5VUd.js";import{N as J,F as U,u as ye}from"./store-BPGvtru9.js";import{u as j,c as C}from"./divWithClassName-DyXLdJrq.js";import{G as je}from"./index-B_54XmMP.js";import{F as Ce}from"./Form-YfvRCnG9.js";import{A as be}from"./AddQuizComponent-CLv_aZNv.js";import{C as Ee}from"./Collapse-O8NBzwIi.js";import{L as Se}from"./Loader-DS4z0dBX.js";import{N as E}from"./Nav-Dkq-mEQE.js";import"./index.esm-DOYXnejc.js";import"./const-DLTfXHz_.js";import"./addClassnameToText-d3ixfLeo.js";function W(e,n){return Array.isArray(e)?e.includes(n):e===n}const w=c.createContext({});w.displayName="AccordionContext";const R=c.forwardRef(({as:e="div",bsPrefix:n,className:s,children:o,eventKey:i,...r},a)=>{const{activeEventKey:l}=c.useContext(w);return n=j(n,"accordion-collapse"),t.jsx(Ee,{ref:a,in:W(l,i),...r,className:C(s,n),children:t.jsx(e,{children:c.Children.only(o)})})});R.displayName="AccordionCollapse";const P=c.createContext({eventKey:""});P.displayName="AccordionItemContext";const X=c.forwardRef(({as:e="div",bsPrefix:n,className:s,onEnter:o,onEntering:i,onEntered:r,onExit:a,onExiting:l,onExited:d,...m},u)=>{n=j(n,"accordion-body");const{eventKey:x}=c.useContext(P);return t.jsx(R,{eventKey:x,onEnter:o,onEntering:i,onEntered:r,onExit:a,onExiting:l,onExited:d,children:t.jsx(e,{ref:u,...m,className:C(s,n)})})});X.displayName="AccordionBody";function $e(e,n){const{activeEventKey:s,onSelect:o,alwaysOpen:i}=c.useContext(w);return r=>{let a=e===s?null:e;i&&(Array.isArray(s)?s.includes(e)?a=s.filter(l=>l!==e):a=[...s,e]:a=[e]),o==null||o(a,r),n==null||n(r)}}const q=c.forwardRef(({as:e="button",bsPrefix:n,className:s,onClick:o,...i},r)=>{n=j(n,"accordion-button");const{eventKey:a}=c.useContext(P),l=$e(a,o),{activeEventKey:d}=c.useContext(w);return e==="button"&&(i.type="button"),t.jsx(e,{ref:r,onClick:l,...i,"aria-expanded":Array.isArray(d)?d.includes(a):a===d,className:C(s,n,!W(d,a)&&"collapsed")})});q.displayName="AccordionButton";const Y=c.forwardRef(({as:e="h2",bsPrefix:n,className:s,children:o,onClick:i,...r},a)=>(n=j(n,"accordion-header"),t.jsx(e,{ref:a,...r,className:C(s,n),children:t.jsx(q,{onClick:i,children:o})})));Y.displayName="AccordionHeader";const ee=c.forwardRef(({as:e="div",bsPrefix:n,className:s,eventKey:o,...i},r)=>{n=j(n,"accordion-item");const a=c.useMemo(()=>({eventKey:o}),[o]);return t.jsx(P.Provider,{value:a,children:t.jsx(e,{ref:r,...i,className:C(s,n)})})});ee.displayName="AccordionItem";const te=c.forwardRef((e,n)=>{const{as:s="div",activeKey:o,bsPrefix:i,className:r,onSelect:a,flush:l,alwaysOpen:d,...m}=ve(e,{activeKey:"onSelect"}),u=j(i,"accordion"),x=c.useMemo(()=>({activeEventKey:o,onSelect:a,alwaysOpen:d}),[o,a,d]);return t.jsx(w.Provider,{value:x,children:t.jsx(s,{ref:n,...m,className:C(r,u,l&&`${u}-flush`)})})});te.displayName="Accordion";const A=Object.assign(te,{Button:q,Collapse:R,Item:ee,Header:Y,Body:X});function Ne(e,n,s){const o=c.useRef(e!==void 0),[i,r]=c.useState(n),a=e!==void 0,l=o.current;return o.current=a,!a&&l&&i!==n&&r(n),[a?e:i,c.useCallback((...d)=>{const[m,...u]=d;let x=s==null?void 0:s(m,...u);return r(m),x},[s])]}const z={prefix:String(Math.round(Math.random()*1e10)),current:0},ne=S.createContext(z),Ie=S.createContext(!1);let Te=!!(typeof window<"u"&&window.document&&window.document.createElement),M=new WeakMap;function we(e=!1){let n=c.useContext(ne),s=c.useRef(null);if(s.current===null&&!e){var o,i;let r=(i=S.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(o=i.ReactCurrentOwner)===null||o===void 0?void 0:o.current;if(r){let a=M.get(r);a==null?M.set(r,{id:n.current,state:r.memoizedState}):r.memoizedState!==a.state&&(n.current=a.id,M.delete(r))}s.current=++n.current}return s.current}function Ae(e){let n=c.useContext(ne);n===z&&!Te&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let s=we(!!e),o=`react-aria${n.prefix}`;return e||`${o}-${s}`}function ze(e){let n=S.useId(),[s]=c.useState(Qe()),o=s?"react-aria":`react-aria${z.prefix}`;return e||`${o}-${n}`}const Oe=typeof S.useId=="function"?ze:Ae;function Pe(){return!1}function Ke(){return!0}function Be(e){return()=>{}}function Qe(){return typeof S.useSyncExternalStore=="function"?S.useSyncExternalStore(Be,Pe,Ke):c.useContext(Ie)}const Me=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],_e=["activeKey","getControlledId","getControllerId"],ke=["as"];function F(e,n){if(e==null)return{};var s={},o=Object.keys(e),i,r;for(r=0;r<o.length;r++)i=o[r],!(n.indexOf(i)>=0)&&(s[i]=e[i]);return s}function se(e){let{active:n,eventKey:s,mountOnEnter:o,transition:i,unmountOnExit:r,role:a="tabpanel",onEnter:l,onEntering:d,onEntered:m,onExit:u,onExiting:x,onExited:h}=e,f=F(e,Me);const p=c.useContext(O);if(!p)return[Object.assign({},f,{role:a}),{eventKey:s,isActive:n,mountOnEnter:o,transition:i,unmountOnExit:r,onEnter:l,onEntering:d,onEntered:m,onExit:u,onExiting:x,onExited:h}];const{activeKey:g,getControlledId:$,getControllerId:K}=p,B=F(p,_e),Z=H(s);return[Object.assign({},f,{role:a,id:$(s),"aria-labelledby":K(s)}),{eventKey:s,isActive:n==null&&Z!=null?H(g)===Z:n,transition:i||B.transition,mountOnEnter:o??B.mountOnEnter,unmountOnExit:r??B.unmountOnExit,onEnter:l,onEntering:d,onEntered:m,onExit:u,onExiting:x,onExited:h}]}const oe=c.forwardRef((e,n)=>{let{as:s="div"}=e,o=F(e,ke);const[i,{isActive:r,onEnter:a,onEntering:l,onEntered:d,onExit:m,onExiting:u,onExited:x,mountOnEnter:h,unmountOnExit:f,transition:p=J}]=se(o);return t.jsx(O.Provider,{value:null,children:t.jsx(L.Provider,{value:null,children:t.jsx(p,{in:r,onEnter:a,onEntering:l,onEntered:d,onExit:m,onExiting:u,onExited:x,mountOnEnter:h,unmountOnExit:f,children:t.jsx(s,Object.assign({},i,{ref:n,hidden:!r,"aria-hidden":!r}))})})})});oe.displayName="TabPanel";const ae=e=>{const{id:n,generateChildId:s,onSelect:o,activeKey:i,defaultActiveKey:r,transition:a,mountOnEnter:l,unmountOnExit:d,children:m}=e,[u,x]=Ne(i,r,o),h=Oe(n),f=c.useMemo(()=>s||((g,$)=>h?`${h}-${$}-${g}`:null),[h,s]),p=c.useMemo(()=>({onSelect:x,activeKey:u,transition:a,mountOnEnter:l||!1,unmountOnExit:d||!1,getControlledId:g=>f(g,"tabpane"),getControllerId:g=>f(g,"tab")}),[x,u,a,l,d,f]);return t.jsx(O.Provider,{value:p,children:t.jsx(L.Provider,{value:x||null,children:m})})};ae.Panel=oe;function re(e){return typeof e=="boolean"?e?U:J:e}const ie=({transition:e,...n})=>t.jsx(ae,{...n,transition:re(e)});ie.displayName="TabContainer";const ce=c.forwardRef(({className:e,bsPrefix:n,as:s="div",...o},i)=>(n=j(n,"tab-content"),t.jsx(s,{ref:i,className:C(e,n),...o})));ce.displayName="TabContent";const le=c.forwardRef(({bsPrefix:e,transition:n,...s},o)=>{const[{className:i,as:r="div",...a},{isActive:l,onEnter:d,onEntering:m,onEntered:u,onExit:x,onExiting:h,onExited:f,mountOnEnter:p,unmountOnExit:g,transition:$=U}]=se({...s,transition:re(n)}),K=j(e,"tab-pane");return t.jsx(O.Provider,{value:null,children:t.jsx(L.Provider,{value:null,children:t.jsx($,{in:l,onEnter:d,onEntering:m,onEntered:u,onExit:x,onExiting:h,onExited:f,mountOnEnter:p,unmountOnExit:g,children:t.jsx(r,{...a,ref:o,className:C(i,K,l&&"active")})})})})});le.displayName="TabPane";const Fe={eventKey:b.oneOfType([b.string,b.number]),title:b.node.isRequired,disabled:b.bool,tabClassName:b.string,tabAttrs:b.object},de=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};de.propTypes=Fe;const N=Object.assign(de,{Container:ie,Content:ce,Pane:le}),Le="_userSection_yo8ue_1",Re="_userSectionCard_yo8ue_8",qe="_userCardInfo_yo8ue_20",G={userSection:Le,userSectionCard:Re,userCardInfo:qe},Ze="_card_yrld2_1",He="_cardTitle_yrld2_17",Ge="_cardText_yrld2_22",Ve="_cardImg_yrld2_27",De="_imgChangeContainer_yrld2_34",Je="_imgChangeBtn_yrld2_39",Ue="_imgChgangeIcon_yrld2_49",v={card:Ze,cardTitle:He,cardText:Ge,cardImg:Ve,imgChangeContainer:De,imgChangeBtn:Je,imgChgangeIcon:Ue},We=()=>{const{currentUser:e}=T(),n=e==null?void 0:e.dateOfBirth.toLocaleDateString().split("/").join(".");return t.jsx(y,{className:v.card,children:t.jsxs(y.Body,{className:v.imgChangeContainer,children:[t.jsx(k,{className:v.imgChangeBtn,children:t.jsx(fe,{className:v.imgChgangeIcon})}),t.jsx(y.Img,{src:e==null?void 0:e.avatar,className:v.cardImg}),t.jsx(y.Title,{className:v.cardTitle,children:e==null?void 0:e.name}),t.jsx(y.Text,{className:v.cardText,children:e==null?void 0:e.email}),t.jsx(y.Text,{className:v.cardText,children:n}),t.jsx(y.Text,{className:v.cardText,children:e==null?void 0:e.gender}),t.jsx(y.Footer,{children:t.jsx(k,{className:"w-100",children:"Edit"})})]})})},Xe="_starZero_1wgyi_1",Ye="_starRating_1wgyi_7",V={starZero:Xe,starRating:Ye};function et({rating:e}){return t.jsxs("div",{children:[t.jsxs("h5",{className:"mb-1",children:["Rating: ",e]}),[1,2,3,4,5,6,7,8,9,10].map(n=>t.jsxs("span",{className:e>=n?V.starRating:V.starZero,children:[" ","â˜…"," "]},n))]})}const tt="_aboutText_13ccc_1",nt="_editIcon_13ccc_5",D={aboutText:tt,editIcon:nt};function st(e){return je({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Edit"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M3.548,20.938h16.9a.5.5,0,0,0,0-1H3.548a.5.5,0,0,0,0,1Z"},child:[]},{tag:"path",attr:{d:"M9.71,17.18a2.587,2.587,0,0,0,1.12-.65l9.54-9.54a1.75,1.75,0,0,0,0-2.47l-.94-.93a1.788,1.788,0,0,0-2.47,0L7.42,13.12a2.473,2.473,0,0,0-.64,1.12L6.04,17a.737.737,0,0,0,.19.72.767.767,0,0,0,.53.22Zm.41-1.36a1.468,1.468,0,0,1-.67.39l-.97.26-1-1,.26-.97a1.521,1.521,0,0,1,.39-.67l.38-.37,1.99,1.99Zm1.09-1.08L9.22,12.75l6.73-6.73,1.99,1.99Zm8.45-8.45L18.65,7.3,16.66,5.31l1.01-1.02a.748.748,0,0,1,1.06,0l.93.94A.754.754,0,0,1,19.66,6.29Z"},child:[]}]}]}]})(e)}const ot=({info:e})=>{const[n,s]=c.useState(!1),[o,i]=c.useState(e),{setCurrentUser:r,currentUser:a}=T(),l=()=>{s(!n)},d=u=>{i(u)},m=async()=>{a&&(await me(a==null?void 0:a.id,o),r(u=>({...u??{},userInfo:o}))),s(!n)};return t.jsxs("div",{className:"mt-3",children:[t.jsxs("h4",{className:"mb-3",children:["About me ",t.jsx(st,{className:D.editIcon,onClick:l})]}),n?t.jsxs("div",{children:[t.jsx(Ce.Control,{as:"textarea",onChange:u=>d(u.target.value)}),t.jsx(k,{className:"mt-3",onClick:m,children:"Save"})]}):t.jsx("p",{className:D.aboutText,children:e})]})},at=()=>{const{currentUser:e}=T();return t.jsxs("div",{className:"pt-3",children:[t.jsx("h5",{className:"mb-4  text-center",children:"My statistics"}),t.jsx(et,{rating:(e==null?void 0:e.avarageScore)||8}),t.jsx(ot,{info:(e==null?void 0:e.userInfo)||""})]})},rt="_itemText_uu0p2_1",it="_itemSmalltext_uu0p2_5",I={itemText:rt,itemSmalltext:it},ct=({quiz:e,eventKey:n})=>{const{title:s,description:o,questions:i,publishedAt:r,category:a,complexity:l}=e;return t.jsxs(A.Item,{eventKey:n,children:[t.jsx(A.Header,{children:s}),t.jsxs(A.Body,{className:"text-start",children:[t.jsxs("small",{className:I.itemSmalltext,children:["Published at: ",r.toLocaleDateString()]}),t.jsxs("p",{className:I.itemText,children:["Description: ",o]}),t.jsxs("p",{className:I.itemText,children:["Category: ",a]}),t.jsxs("p",{className:I.itemText,children:["Complexity: ",l]}),t.jsxs("p",{className:I.itemText,children:["Amount of question: ",i.length]})]})]})},ue=({quizes:e,isLoading:n})=>t.jsx(A,{defaultActiveKey:"0",flush:!0,children:n?t.jsx(Se,{}):e?e.map((s,o)=>t.jsx(ct,{quiz:s,eventKey:o.toString()},s.id)):t.jsx("p",{children:"No quizes yet"})}),lt=()=>{const[e,n]=c.useState(null),[s,o]=c.useState(!0),i=ye(a=>a.newQuizData),{currentUser:r}=T();return c.useEffect(()=>{(async()=>{o(!0);try{if(r){const l=await xe(r.id);n(l??null),o(!1)}}catch(l){if(l instanceof Error)throw new Error(l.message)}})()},[i]),t.jsx(t.Fragment,{children:t.jsxs("div",{className:"pt-3 text-center",children:[t.jsx("h6",{className:"mb-3",children:"User Quiz List"}),t.jsx(ue,{quizes:e,isLoading:s})]})})},dt="_container_p50ix_1",ut={container:dt},mt=()=>t.jsxs("div",{className:ut.container,children:[t.jsx("h5",{className:"mb-3 text-center",children:"My Quizes"}),t.jsx(be,{}),t.jsx(lt,{})]}),xt=()=>{const[e,n]=c.useState([]),[s,o]=c.useState(!0),{currentUser:i}=T();return c.useEffect(()=>{(async()=>{try{if(o(!0),i){const a=await he(i==null?void 0:i.favorites);a&&n(a)}o(!1)}catch(a){if(a instanceof Error)throw new Error(a.message)}})()},[]),t.jsxs("div",{className:"pt-3 text-center",children:[t.jsx("h5",{className:"mb-3",children:"User Favorites"}),t.jsx(ue,{quizes:e,isLoading:s})]})},ht="_userCardInfo_1icpt_1",ft="_show_1icpt_5",_={userCardInfo:ht,show:ft},pt=()=>t.jsx(N.Container,{id:"user-card",defaultActiveKey:"statistics",children:t.jsxs(pe,{children:[t.jsxs(E,{variant:"tabs",className:"p-0",fill:!0,children:[t.jsx(E.Item,{children:t.jsx(E.Link,{className:_.show,as:Q,to:"#statistics",eventKey:"statistics",children:"Statistics"})}),t.jsx(E.Item,{children:t.jsx(E.Link,{className:_.show,as:Q,to:"#my-quizes",eventKey:"my-quizes",children:"My Quizes"})}),t.jsx(E.Item,{children:t.jsx(E.Link,{className:_.show,as:Q,to:"#favorites",eventKey:"favorites",children:"Favorites"})})]}),t.jsxs(N.Content,{children:[t.jsx(N.Pane,{eventKey:"statistics",title:"Statistics",children:t.jsx(at,{})}),t.jsx(N.Pane,{eventKey:"my-quizes",title:"My Quizes",children:t.jsx(mt,{})}),t.jsx(N.Pane,{eventKey:"favorites",title:"Favorites",children:t.jsx(xt,{})})]})]})}),Pt=()=>t.jsx(ge,{className:G.userSection,children:t.jsxs(y,{className:G.userSectionCard,children:[t.jsx(We,{}),t.jsx(pt,{})]})});export{Pt as default};
